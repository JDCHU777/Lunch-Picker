!DOCTYPE html
html lang=zh-Hant
head
  meta charset=UTF-8
  titleåˆé¤åƒä»€éº¼ï¼Ÿtitle
  style
    body { font-family sans-serif; text-align center; margin-top 80px; }
    button { padding 10px 20px; font-size 18px; margin 5px; cursor pointer; }
    #result { margin-top 30px; font-size 24px; font-weight bold; color #007bff; }
  style
head
body
  h1åˆé¤åƒä»€éº¼ï¼Ÿh1
  button onclick=pickLunch()å¹«æˆ‘é¸ï¼button
  button onclick=skipLunch()æˆ‘ä¸æƒ³åƒé€™å€‹button
  div id=resultdiv

  script
    const lunchOptions = [
      è€å®¶æ± ä¸Šä¾¿ç•¶,
      è¬å…©é£Ÿå ‚,
      å…¨å“¥éµè‚‰,
      è±ªè¨˜æ°´é¤ƒ,
      åŒ…å­&me å˜‰ç¾©ç«é›è‚‰é£¯,
      è£´è€å¸«,
      éº¥ç•¶å‹,
      éºµç™¡é£ŸåŠ,
      åŒ—æ–¹éºµé¤¨,
      Snoopy,
      æ˜å¥¶å¥¶,
      å¤å¨å¤·é£¯,
      é”äººéºµé¤¨
    ];

    const STORAGE_KEY = lunchHistory;

    function getHistory() {
      const raw = localStorage.getItem(STORAGE_KEY);
      if (!raw) return [];
      return JSON.parse(raw).filter(entry = {
        const date = new Date(entry.date);
        const now = new Date();
        const diffDays = (now - date)  (1000  60  60  24);
        return diffDays = 7;
      });
    }

    function saveHistory(name) {
      const history = getHistory();
      history.push({ name, date new Date().toISOString() });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(history));
    }

    function getAvailableOptions() {
      const history = getHistory().map(entry = entry.name);
      return lunchOptions.filter(option = !history.includes(option));
    }

    let currentChoice = ;

    function pickLunch() {
      const options = getAvailableOptions();
      if (options.length === 0) {
        document.getElementById(result).innerText = æœ€è¿‘7å¤©éƒ½åƒéäº†ï¼Œå»ºè­°é‡ç½®ç´€éŒ„æˆ–å†’éšªé‡è¤‡åƒ ğŸ˜…;
        return;
      }
      currentChoice = options[Math.floor(Math.random()  options.length)];
      document.getElementById(result).innerText = `ä»Šå¤©åƒï¼š${currentChoice}`;
      saveHistory(currentChoice);
    }

    function skipLunch() {
      const options = getAvailableOptions().filter(opt = opt !== currentChoice);
      if (options.length === 0) {
        document.getElementById(result).innerText = æ²’å¾—é¸äº†ï¼æœ€è¿‘7å¤©éƒ½åƒéï¼Œå‹‡æ•¢é‡è¤‡å§ ğŸ˜…;
        return;
      }
      currentChoice = options[Math.floor(Math.random()  options.length)];
      document.getElementById(result).innerText = `é‚£å°±æ”¹åƒï¼š${currentChoice}`;
      saveHistory(currentChoice);
    }
  script
body
html
